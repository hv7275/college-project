{% extends "base.html" %} {% block title %}Task List{% endblock %} {% block
content %}
<div class="task-box">
  <h2>Your Tasks</h2>
  <form action="{{url_for("tasks.add_task")}}" method="POST" class="task-form">
    <input type="text" name="title" id="title" placeholder="Enter task title" required />
    <button type="submit">Add Task</button>

  </form>
  {% if tasks %}
  <form action="{{url_for('tasks.clear_all_tasks')}}" method='POST' class="clear-task-form">
    <button type="submit" class='btn-btn-clear'>Clear All Tasks</button>
  </form>

  <table class="tasks-table">
    <thead>
        <tr>
            <th>#</th>
            <th>Task</th>
            <th>Status</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        {% for task in tasks %}
        <tr>
          <td>{{loop.index}}</td>
          <td>{{ task.title }}</td>
          <td>
            <span class="badge {{ task.status|lower|replace(' ', '-') }}">{{ task.status }}</span>
          </td>
          <td>
            <form action="{{url_for('tasks.toggle_task')}}" method='POST' style="display: inline;">
              <input type="hidden" name="task_id" value="{{ task.id }}">
              <button type="submit" class="btn-small">Next</button>
            </form>
          </td>
          
        </tr>
        {% endfor %}
    </tbody>
  </table>
  {% else %}
  <p>No tasks found.</p>
  {% endif %}
</div>
{% endblock%}
